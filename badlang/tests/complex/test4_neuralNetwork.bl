// Activation function
fun int relu(int x) {
    if (x > 0) return x;
    return 0;
}

// Hidden layer neurons
fun int hidden0(int i0, int i1, int i2, int i3) {
    int w0 = 2; int w1 = -1; int w2 = 3; int w3 = 1;
    int sum = i0 * w0 + i1 * w1 + i2 * w2 + i3 * w3;
    return relu(sum);
}

fun int hidden1(int i0, int i1, int i2, int i3) {
    int w0 = -2; int w1 = 3; int w2 = 1; int w3 = 0;
    int sum = i0 * w0 + i1 * w1 + i2 * w2 + i3 * w3;
    return relu(sum);
}

fun int hidden2(int i0, int i1, int i2, int i3) {
    int w0 = 1; int w1 = 1; int w2 = -1; int w3 = 2;
    int sum = i0 * w0 + i1 * w1 + i2 * w2 + i3 * w3;
    return relu(sum);
}

// Output layer neurons
fun int output0(int h0, int h1, int h2) {
    int w0 = 1; int w1 = -2; int w2 = 3;
    int sum = h0 * w0 + h1 * w1 + h2 * w2;
    return sum;
}

fun int output1(int h0, int h1, int h2) {
    int w0 = -1; int w1 = 2; int w2 = 1;
    int sum = h0 * w0 + h1 * w1 + h2 * w2;
    return sum;
}

// Forward pass
fun int forward(int i0, int i1, int i2, int i3) {
    int h0 = hidden0(i0, i1, i2, i3);
    int h1 = hidden1(i0, i1, i2, i3);
    int h2 = hidden2(i0, i1, i2, i3);

    int o0 = output0(h0, h1, h2);
    int o1 = output1(h0, h1, h2);

    printsp o0;
    printsp o1;

    return 0;
}

fun int main() {
    // Input example
    int i0 = 1;
    int i1 = 2;
    int i2 = -1;
    int i3 = 3;

    forward(i0, i1, i2, i3);

    return 0;
}
